# Grammar Scoring Engine with Whisper and Gemini API

This repository contains a pipeline for building a Grammar Scoring Engine for spoken audio samples. The system uses the [Whisper](https://github.com/openai/whisper) model for audio transcription and the [Gemini API](https://ai.google.dev/gemini-api/) for scoring the grammar of the generated transcripts. This project was developed to run on Kaggle Notebook, but the code can be adapted for local or other cloud environments.

---

## Table of Contents
- [Overview](#overview)
- [Features](#features)
- [Installation](#installation)
- [Usage](#usage)
- [File Structure](#file-structure)
- [Results](#results)
- [License](#license)
- [Acknowledgments](#acknowledgments)

---

## Overview

The objective of this project is to create an automated system that:
1. **Transcribes audio files** using the state-of-the-art Whisper model.
2. **Evaluates the grammar quality** of the transcriptions using the Gemini API.
3. **Generates a final output** with a grammar score on a scale from 0 to 5.

This pipeline is especially useful for talent assessments or any application where analyzing spoken language grammar is required.

---

## Features

- **Audio Transcription:** Converts spoken audio to text using the Whisper model.
- **Grammar Scoring:** Uses the Gemini API to rate the quality of the transcript's grammar.
- **Kaggle Integration:** Pre-configured file paths and settings for running in a Kaggle Notebook.
- **Extensibility:** Modular code that can be expanded for additional processing or evaluation tasks.

---

## Installation

Clone the repository and install the required dependencies. You need Python 3.7+.

```bash
git clone https://github.com/yourusername/grammar-scoring-engine.git
cd grammar-scoring-engine
pip install -r requirements.txt
```
Note: The code requires `ffmpeg` for audio processing. On Ubuntu, install it with:
```bash
sudo apt update && sudo apt install ffmpeg -y
```

---

### 4. Usage

```markdown
## Usage

1. **Configure File Paths:**  
   - Set `AUDIO_BASE_PATH` to the directory containing your audio files.
   - Set `CSV_PATH` to the path of your CSV file (e.g., `sample_submission.csv` or `train.csv`).

2. **API Key Configuration:**  
   Replace `YOUR_GEMINI_API_KEY` in the code with your actual Gemini API key.

3. **Run the Pipeline:**  
   Execute the notebook (or script) step by step. The pipeline will:
   - Transcribe the audio files using Whisper.
   - Score the transcripts using the Gemini API.
   - Save the output to `/kaggle/working/scored_transcripts.csv`, which contains the filenames, transcripts, and grammar scores.
```

## Results

After running the pipeline, the output CSV (`/kaggle/working/scored_transcripts.csv`) will include:
- **filename:** Name of the audio file.
- **label:** (Initially all zeros, later overwritten with the actual Gemini grammar scores.)
- **file_path:** Full path to the audio file.
- **transcript:** The text transcript generated by Whisper.
- **gemini_score:** Grammar score (on a scale from 0 to 5) produced by the Gemini API.

These results can be used for further analysis or as input to additional machine learning models.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.
## Acknowledgments

- [Whisper by OpenAI](https://github.com/openai/whisper)
- [Google Gemini API](https://ai.google.dev/gemini-api/)
- Special thanks to the Kaggle community and all contributors.
